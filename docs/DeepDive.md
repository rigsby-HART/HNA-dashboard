# HART Tool Deep Dive

The tool is accessible through hart.ubc.ca.

The main site is hosted separately, while the HART tool itself is hosted on Koyeb, accessed through an embed on the ubc 
page.  The entire stack is written in python, the frontend being generated by the python library Dash, by plotly. The
backend data analysis logic is also in Python and mostly in Pandas, a python data analysis library.

## Data Flow 
![dataflow.png](dataflow.png)
1. The user accesses the page through a device capable of accessing the web, probably a computer.
2. The webpage responds to the request, the UBC HART page is specifically hosted through a third party company using
WordPress, after the main domain (ubc.ca) routes to our subdomain (hart prefix).  The WordPress server delivers all the 
static content, including an embed to the HART tools service, hosted on Koyeb
3. After Koyeb receives the request, it passes it to our specific instance (HART tool uses a medium size instance)
4. Our instance has a Gunicorn server running in front of our Dash app to help handle requests.  Dash is built on Flask,
and is not meant to handle all http calls, Gunicorn helps parse these calls for our app
5. Dash is the framework in which the components are organized
6. Plotly is used to generate all the graphs dynamically when required.  The actual math and table organization is done
with various python libraries including pandas and other data manipulation libraries.
7. The data that is used to return results is sourced from Canada census data, gone through processing to be stored as a
SQLite db file.  All data used for any graphs or results are sourced from this database.
